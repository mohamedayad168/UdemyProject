<header class="main-header bg-dark text-white pt-4 pb-2">
    <div class="container">
      <h1 class="mb-3 text-white">My learning</h1>
      <ul ngbNav #nav="ngbNav" class="nav nav-underline">
        <li [ngbNavItem]="1"  class="nav-item">
          <button ngbNavLink>My Courses</button>
          <ng-template ngbNavContent>
          @if(userLearning !=null){
            <div class="container py-5">
              <h2 class="text-center mb-4">Your Courses</h2>
              <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
              @for(course of userLearning; track course){
                  <div class="col">
                      <div class="card h-100 shadow-sm">
                          <img [src]="course.imageUrl" class="card-img-top hover:cursor-pointer!"
                          routerLink="/course/view/{{course.courseId}}" alt="{{course.title}}">
                          <div class="card-body">
                              <h5 class="card-title">{{course.title}}</h5>
                              <p class="card-text">{{course.instructorName}}</p>
                          </div>
                          <div class="card-footer bg-white border-top-0">
                            <mat-progress-bar mode="determinate" [value]="course.progress"></mat-progress-bar>
                            <p class="card-text">Progress: {{course.progress?? 0}}%</p>
                          </div>

                      </div>
                  </div>

                }
          </div>
            </div>

          }
          @else {

              <h1 class="text-center h-100">
                <div class="spinner-border text-primary" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
                <p>Loading...</p>
                <p>My Courses</p>
              </h1>

          }
        </ng-template>
        </li>
        <li [ngbNavItem]="2" [destroyOnHide]="false" class="nav-item">
          <button ngbNavLink>My-Learning Report</button>
          <ng-template   ngbNavContent>
            @if(powerBiUrl){
              <div class="ratio ratio-21x9 h-50" >
                <iframe title="Studify-Student Dashboard"  [src]="powerBiUrl" allowfullscreen></iframe>
              </div>
            }
            @else {
            <h2 class="text-center">Report Unavailable</h2>
            }
          </ng-template>
        </li>
      </ul>
    </div>
  </header>
  <main class="container mt-4">
    <div class="container">
      <div [ngbNavOutlet]="nav" class="mt-2"></div>
    </div>
  </main>
