<!-- CATEGORY SCROLL WITH ARROWS -->
<div class="flex items-center gap-4 my-4">
  <!-- Left Arrow -->
  <button (click)="scrollLeft(categoryScroll)" class="text-3xl text-purple-600 hover:text-purple-700 transition-all duration-200 px-2 py-1 rounded-full">
    ◀
  </button>

  <!-- Category Buttons Scrollable -->
  <div #categoryScroll class="overflow-x-auto whitespace-nowrap flex gap-4 w-full px-2 py-1 scroll-smooth no-scrollbar">
    <button
      *ngFor="let cat of categories"
      (click)="onCategoryClick(cat.id)"
      [ngClass]="{
        'bg-purple-600 text-white': selectedCategoryId === cat.id,
        'bg-gray-200 text-black': selectedCategoryId !== cat.id
      }"
      class="px-6 py-2 rounded-full font-medium text-sm transition-all duration-300 transform hover:scale-105 hover:shadow-lg"
    >
      {{ cat.name }}
    </button>
  </div>

  <!-- Right Arrow -->
  <button (click)="scrollRight(categoryScroll)" class="text-3xl text-purple-600 hover:text-purple-700 transition-all duration-200 px-2 py-1 rounded-full">
    ▶
  </button>
</div>

<!-- SUBCATEGORY SCROLL WITH ARROWS -->
<div *ngIf="subcategories.length > 0" class="flex items-center gap-4 mb-6">
  <!-- Left Arrow -->
  <button (click)="scrollLeft(subScroll)" class="text-3xl text-purple-600 hover:text-purple-700 transition-all duration-200 px-2 py-1 rounded-full">
    ◀
  </button>

  <!-- Subcategory Buttons Scrollable -->
  <div #subScroll class="overflow-x-auto whitespace-nowrap flex gap-4 w-full px-2 py-1 scroll-smooth no-scrollbar">
    <button
      *ngFor="let sub of subcategories"
      (click)="onSubcategoryClick(sub.id)"
      [ngClass]="{
        'bg-purple-600 text-white': selectedSubcategoryId === sub.id,
        'bg-gray-100 text-gray-700': selectedSubcategoryId !== sub.id
      }"
      class="px-5 py-2 rounded-full text-sm font-medium transition-all duration-300 transform hover:scale-105 hover:shadow-md"
    >
      {{ sub.name }}
    </button>
  </div>

  <!-- Right Arrow -->
  <button (click)="scrollRight(subScroll)" class="text-3xl text-purple-600 hover:text-purple-700 transition-all duration-200 px-2 py-1 rounded-full">
    ▶
  </button>
</div>

<!-- COURSE CARDS SCROLL WITH ARROWS -->
<div *ngIf="courses.length > 0" class="flex items-center gap-4 mb-6">
  <!-- Left Arrow -->
  <button (click)="scrollLeft(courseScroll)" class="text-3xl text-purple-600 hover:text-purple-700 transition-all duration-200 px-2 py-1 rounded-full">
    ◀
  </button>

  <!-- Course Cards Scrollable -->
  <div #courseScroll class="overflow-x-auto whitespace-nowrap flex gap-8 w-full px-2 py-1 scroll-smooth no-scrollbar">
    <div
      *ngFor="let course of courses"
      class="bg-white p-4 shadow-xl rounded-lg w-64 hover:shadow-2xl transition-all duration-300 cursor-pointer transform hover:scale-105"
      [routerLink]="['/courses', course.id]"
    >
      <img
        [src]="course.imageUrl || 'https://via.placeholder.com/300x150'"
        alt="{{ course.title }}"
        class="rounded-lg h-40 w-full object-cover"
      />
      <p class="font-semibold mt-4 text-md text-gray-800 truncate">{{ course.title }}</p>
      <p class="text-sm text-gray-500 mt-1 truncate">{{ course.instructor }}</p>
      <p class="text-yellow-500 mt-2 text-xs">★ {{ course.rating || 'N/A' }}</p>
      <p class="text-black font-semibold mt-2 text-sm">£{{ course.price }}</p>
    </div>
  </div>

  <!-- Right Arrow -->
  <button (click)="scrollRight(courseScroll)" class="text-3xl text-purple-600 hover:text-purple-700 transition-all duration-200 px-2 py-1 rounded-full">
    ▶
  </button>
</div>

<!-- NO COURSES FOUND -->
<div *ngIf="courses.length === 0 && selectedSubcategoryId" class="text-gray-500 italic mt-4">
  No courses found for this subcategory.
</div>
