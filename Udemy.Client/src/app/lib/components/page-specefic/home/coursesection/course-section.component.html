<!-- CATEGORY BUTTONS -->
<div class="flex flex-wrap gap-3 my-4">
  <button
    *ngFor="let cat of categories"
    (click)="onCategoryClick(cat.id)"
    [ngClass]="{
      'bg-indigo-600 text-white': selectedCategoryId === cat.id,
      'bg-gray-200 text-black': selectedCategoryId !== cat.id
    }"
    class="px-4 py-2 rounded-full font-medium"
  >
    {{ cat.name }}
  </button>
</div>

<!-- SUBCATEGORY BUTTONS -->
<div *ngIf="subcategories.length > 0" class="flex flex-wrap gap-2 mb-6">
  <button
    *ngFor="let sub of subcategories"
    (click)="onSubcategoryClick(sub.id)"
    [ngClass]="{
      'bg-purple-600 text-white': selectedSubcategoryId === sub.id,
      'bg-gray-100 text-gray-700': selectedSubcategoryId !== sub.id
    }"
    class="px-3 py-1 rounded-lg text-sm"
  >
    {{ sub.name }}
  </button>
</div>

<!-- COURSE SCROLLABLE SECTION -->
<div class="relative my-6">
  <!-- Left Arrow -->
  <button
    class="absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white shadow rounded-full p-2"
    (click)="scroll('left')"
  >
    <i class="bi bi-chevron-left text-2xl"></i>
  </button>

  <!-- Scrollable Course Cards -->
  <div
    #scrollContainer
    class="overflow-x-auto whitespace-nowrap scroll-smooth no-scrollbar px-12"
  >
    <div class="inline-flex gap-5">
      <div
  *ngFor="let course of courses"
  class="w-[320px] bg-white p-4 shadow rounded hover:shadow-lg transition-all cursor-pointer flex-shrink-0 hover:transform hover:scale-105"
  [routerLink]="['/courses', course.id]"
>
  <img
    [src]="course.imageUrl || 'https://via.placeholder.com/300x150'"
    alt="{{ course.title }}"
    class="rounded h-40 w-full object-cover"
  />
  <p class="font-semibold mt-2 text-lg break-words line-clamp-2">{{course.title}}</p>
  <p class="text-sm text-gray-600">{{ course.instructor }}</p>
  <p class="text-yellow-500">★ {{ course.rating || 'N/A' }}</p>
  <p class="text-black font-bold mt-1">£{{ course.price }}</p>
</div>

  </div>

  <!-- Right Arrow -->
  <button
    class="absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white shadow rounded-full p-2"
    (click)="scroll('right')"
  >
    <i class="bi bi-chevron-right text-2xl"></i>
  </button>
</div>

<!-- NO COURSES FOUND -->
<div *ngIf="courses.length === 0 && selectedSubcategoryId" class="text-gray-500 italic mt-4">
  No courses found for this subcategory.
</div>
